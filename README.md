# Events Web Application

## Описание

Это веб-приложение для работы с событиями, разработанное на .NET Core с использованием Entity Framework Core. Клиентская часть реализована с помощью Angular/React. Приложение разворачивается и запускается с помощью Docker.

## Функциональность

### Web API

- Получение списка всех событий.
- Получение определенного события по его ID.
- Получение события по его названию.
- Добавление нового события.
- Изменение информации о существующем событии.
- Удаление события.
- Получение списка событий по определенным критериям (по дате, месту проведения, категории события).
- Возможность добавления изображений к событиям и их хранение.

### Участники

- Регистрация участия пользователя в событии.
- Получение списка участников события.
- Получение определенного участника по его ID.
- Отмена участия пользователя в событии.
- Отправка уведомлений участникам события об изменениях в событии (опционально).

## Структура проекта

my-project/
├── client/ (клиентская часть)
└── server/ (серверная часть)
├── project1/
├── project2/
├── project3/
├── project4/
└── project5/

## Установка и запуск

### Предварительные требования

- Установленный Docker.
- Установленный PostgreSql.
- Установленный Git.

### Клонирование репозитория

Клонируйте репозиторий на локальную машину:

   bash
   git clone https://github.com/ODapTiK/EventApp_Test.git

### Запуск приложения

#### Подготовка к запуску

В первую очередь вам нужно залесть в файлы appsettings.json и appsettings.Development.json и в строку подключения к базе данных ввести свои корректные данные.
Для этого перейдите в директорию WebAPI командой: 
   cd EventApp.Backend/EventApp/EventApp.WebAPI
Там будут доступны эти файлы.
Далее необходимо пройти процедуру создания базы данных для приложения. В этом же репозитории необходимо выполнить серию команд:
   dotnet ef migrations add ИМЯ_МИГРАЦИИ --project ../EventApp.Persistence
После успешного создания миграции:
   dotnet ef database update
   
#### Запуск серверной части

Перейдите в директорию с серверной частью в папку с исполняемым файлом EventApp.WebAPI.csproj. К ней можно перейти из корня репозитория командой:

   cd EventApp.Backend/EventApp/EventApp.WebAPI

Далее необходимо выполнить серию команд: 

   dotnet restore
   dotnet run

После этого серверная часть запустится по адресу http://localhost:5173/.

#### Запуск клиентской части

Далее перейдите в директорию с package.json файлом клиентской части. К ней можно перейти из корня репозитория командой:

   cd EventApp.Frontend/event_app

Далее необходимо запустить клиентскую часть командой npm start.
Клиентская чать станет доступна по адресу http://localhost:3000.

### Запуск приложения в Docker

API приложения поддерживает docker, но предварительно необходимо провести некоторые манипуляции.

   - Открыть порт 5173 для входящих подключений
   - В файле pg_hba.config(PostgreSQL/version/data/pg_hba.config) добавить для базы данных разрешенное подключение: host    EventAppDB    postgres    ВАШ_IP/32    md5
   - Также в файлах API appsettings.json, appsettings.Development.json и docker-compose.yml необходимо заменить значения строк подключения на валидные для вашего сервиса postgres.

   После выполнения всех этих действий корректно, соберите docker-образ:

      cd EventApp.Backend/EventApp
      docker-compose up --build

   API запустится в docker-контейнере и станет доступно по адресу http://localhost:5173.